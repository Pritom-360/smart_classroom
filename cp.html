<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competitive Programming - Smart Classroom</title>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">

    <!-- CodeMirror CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css">
</head>

<body>

    <!-- Header -->
    <header id="main-header">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="assets/icon/iconi.png" alt="SCL">
                <span>Smart Classroom</span>
            </a>

            <div class="desktop-nav">
                <nav>
                    <a href="index.html">Home</a>
                    <a href="subjects.html">Subjects</a>
                    <a href="simulators.html">Simulators</a>
                    <a href="https://ewu-studentsdesk.vercel.app/" target="_blank">EWU Desk</a>
                    <a href="products.html">Products</a>
                    <a href="https://codewithpritom.github.io/digital-hub/" target="_blank">Store</a>
                    <a href="about.html">About</a>
                </nav>
                <div class="controls">
                    <div class="role-switch">
                        <span>Candidate</span>
                        <label class="switch">
                            <input type="checkbox" id="role-toggle">
                            <span class="slider round"></span>
                        </label>
                        <span>Student</span>
                    </div>
                </div>
            </div>

            <button id="menu-toggle" aria-label="Open Menu"><i class="fas fa-bars"></i></button>
        </div>
    </header>

    <!-- Off-Canvas Navigation Slider for Mobile -->
    <div id="nav-overlay" class="nav-overlay"></div>
    <div id="nav-slider" class="nav-slider">
        <div class="slider-header">
            <h3>Menu</h3>
            <button id="close-nav-button" aria-label="Close Menu">&times;</button>
        </div>
        <div class="slider-content">
            <!-- Navigation links will be injected here by JS -->
        </div>
    </div>

    <main class="container">
        <div class="page-header reveal">
            <h2 class="gradient-text">Competitive Programming Hub</h2>
            <p>Practice your problem-solving skills with our integrated code editor and connect with fellow coders.</p>
        </div>

        <div class="community-promo glass-panel reveal"
            style="padding: 2rem; border-radius: var(--radius-lg); margin-bottom: 3rem; animation-delay: 0.1s;">
            <h3 class="gradient-text">Level Up Your Skills with Us!</h3>
            <p>Join our exclusive VJudge group for regular contests and practice problems. Get help, discuss strategies,
                and grow with our community on Discord.</p>
            <div class="promo-links" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <a href="https://vjudge.net/group/algoavengers?r=BJDoPOik5SIqUz3uV9J8" target="_blank"
                    class="btn btn-primary"><i class="fas fa-trophy"></i> Join on VJudge</a>
                <a href="#" target="_blank" class="btn" style="background: #5865F2; color: white;"><i
                        class="fab fa-discord"></i> Chat on Discord</a>
            </div>
        </div>

        <div class="cp-layout reveal"
            style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; animation-delay: 0.2s;">
            <div class="editor-container card" style="text-align: left; padding: 1.5rem;">
                <h4 style="margin-bottom: 1rem;">Code Editor</h4>
                <textarea id="code-editor"></textarea>
            </div>
            <div class="resources-container card" style="text-align: left; padding: 1.5rem;">
                <h4 style="margin-bottom: 1rem;">Essential Resources</h4>
                <ul class="material-list">
                    <li><i class="fas fa-code"></i> <a href="https://codeforces.com/" target="_blank">Codeforces <i
                                class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i></a></li>
                    <li><i class="fas fa-laptop-code"></i> <a href="https://www.topcoder.com/" target="_blank">TopCoder
                            <i class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i></a></li>
                    <li><i class="fas fa-terminal"></i> <a href="https://leetcode.com/" target="_blank">LeetCode <i
                                class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i></a></li>
                    <li><i class="fas fa-book"></i> <a href="https://cp-algorithms.com/" target="_blank">CP-Algorithms
                            <i class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i></a></li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Smart Classroom</h3>
                    <p>Empowering students with interactive learning resources and educational tools.</p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/profile.php?id=61576756049338" target="_blank"
                            aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://linkedin.com/in/pritom" target="_blank" aria-label="LinkedIn"><i
                                class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/@CodeWithPritom-360" target="_blank" aria-label="YouTube"><i
                                class="fab fa-youtube"></i></a>
                        <a href="https://github.com/CodeWithPritom" target="_blank" aria-label="GitHub"><i
                                class="fab fa-github"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <div class="footer-links-group">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                            <li><a href="subjects.html"><i class="fas fa-book"></i> Subjects</a></li>
                            <li><a href="simulators.html"><i class="fas fa-flask"></i> Simulators</a></li>
                            <li><a href="products.html"><i class="fas fa-box"></i> Products</a></li>
                        </ul>
                    </div>
                    <div class="footer-links-group">
                        <h4>Connect</h4>
                        <ul>
                            <li><a href="https://ewu-studentsdesk.vercel.app/" target="_blank"><i
                                        class="fas fa-university"></i> EWU Desk</a></li>
                            <li><a href="https://codewithpritom.github.io/digital-hub/" target="_blank"><i
                                        class="fas fa-store"></i> Store</a></li>
                            <li><a href="about.html"><i class="fas fa-user"></i> About</a></li>
                            <li><a href="mailto:pritombhowmik360@gmail.com"><i class="fas fa-envelope"></i> Contact</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Smart Classroom by Arup Bhowmik Pritom. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- INSTRUCTION MANUAL FLOATING ICON & MODAL -->
    <div class="instruction-container">
        <button id="instruction-button" aria-label="Instructions">
            <i class="fas fa-question-circle"></i>
        </button>
    </div>

    <div id="instruction-modal" class="modal">
        <div class="modal-content glass-panel" style="background: white;">
            <span class="close-button">&times;</span>
            <h2 class="gradient-text">How to Use This Site</h2>
            <p>Welcome to the Smart Classroom! Here are a few tips to get you started:</p>
            <ul>
                <li>
                    <strong><i class="fas fa-toggle-on"></i> Role Switcher:</strong> Use the toggle in the top-right
                    corner to switch between the <strong>Admission Candidate</strong> and <strong>University
                        Student</strong> view. Each role has access to different resources.
                </li>
                <li>
                    <strong><i class="fas fa-book"></i> Subjects:</strong> As a candidate, you'll find admission prep
                    materials. As a student, you'll get full access to lecture notes, videos, and assignments.
                </li>
                <li>
                    <strong><i class="fas fa-shopping-cart"></i> Cart & Role:</strong> Your selected role and shopping
                    cart items are saved in your browser, so they'll be here when you return!
                </li>
            </ul>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/clike/clike.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/python/python.min.js" defer></script>

    <!-- Main Site Scripts -->
    <script src="js/main.js" defer></script>

    <!-- Page-Specific Script with Robust Animation -->
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            const sampleCode = `#include <iostream>
#include <vector>

int main() {
    std::cout << "Hello, Competitive Programming!" << std::endl;
    // Start coding your solution here...
    return 0;
}`;

            const textArea = document.getElementById('code-editor');
            // Check for existence before proceeding
            if (!textArea) return;

            // Using setTimeout is a robust way to ensure CodeMirror's DOM elements
            // are fully rendered before we start manipulating the editor.
            setTimeout(() => {
                // Initialize the editor inside the timeout
                const editorInstance = CodeMirror.fromTextArea(textArea, {
                    lineNumbers: true,
                    mode: 'text/x-c++src',
                    theme: 'dracula',
                    autofocus: true,
                    lineWrapping: true,
                    value: '' // Start empty for the animation
                });

                // Adjust height
                editorInstance.setSize("100%", "400px");

                // Start the typing animation
                let i = 0;
                const typingSpeed = 50;

                const typeWriterInterval = setInterval(() => {
                    if (i < sampleCode.length) {
                        const char = sampleCode.charAt(i);
                        editorInstance.replaceRange(char, editorInstance.getCursor());
                        i++;
                    } else {
                        clearInterval(typeWriterInterval);
                        editorInstance.setCursor({ line: 5, ch: 4 });
                        editorInstance.focus();
                    }
                }, typingSpeed);

            }, 100);
        });
    </script>
</body>

</html>